# Custom Entity Linking Prodigy Recipe 

This folder contains the custom recipe and configuration for running the JAI 2022 entity linking candidate annotation.

## How to run?
Please ensure that you run this code in the same directory in order to allow Prodigy to pick up the local `prodigy.json` file.
Otherwise Prodigy will fall back to the default system `prodigy.json` and none of the customisations will be reflected in the UI.

To start the annotation server, run the following:
```bash
 python -m prodigy entity_linker.manual <dataset name> <source_file> <nlp_model> <kb_file> <additional_info_entities_file> -F el_recipe.py
```

<dataset name> - custom user input
<source_file> - guardian paragraphs provided as jsonl. Generated by running the code in dev_notebooks/1_sample_gu_paragraphs. Stored as 3_prodigy_annotations/assets/gu_sampled_paragraphs.jsonl.
<nlp_model> - spaCy pipeline
<kb_file> - KB directory generated by the code in 2_kb_dataset. Stored under the 2_kb_dataset/assets/.
<addiotional_info_entities_file> - KB dataset csv file generated by the code in 2_kb_dataset. Stored under the 2_kb_dataset/assets/.

To display the command reference on the CLI, run
```bash
prodigy entity_linker.manual --help -F el_recipe.py
```

For further information, see the [Prodigy documentation](https://prodi.gy/docs/custom-recipes) pages. 